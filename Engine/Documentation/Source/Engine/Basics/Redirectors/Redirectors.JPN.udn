INTSourceChangelist:2677339
Availability:Public
Title:リダイレクタ
Crumbs:%ROOT%, Engine
Description:移動したアセットの参照を現行位置へリダイレクトするためにパッケージに置かれるオブジェクト
version:4.9
[TOC (start:2 end:3)]



UE4 でアセットを移動したり名前の変更をすると、元の位置に 'Redirector' が残されます。これは現時点で読み込まれていないものの、このアセットを参照するパッケージが変更先を検出するためのものです。早期に命名システムを選出して、その方法にこだわった命名をすることにより、リダイレクトにまつわる問題を回避することができます。


## FixupRedirects コマンドレット

FixupRedirects コマンドレットを必ず定期的に実行してください。以前のプロジェクトでは、弊社のレベル デザイナーは、 2 週間ごとにこのコマンドレットを全パッケージを対象に実行していました。可能な限りのクリーンアップが実行されます (パッケージ毎に個別のチェックインを必要としません)。 


## 潜在的な問題


### 名前変更

オブジェクトを作成して名前を変更した後に、元のオブジェクト名と同じ名前で新規にオブジェクトを作成するとエラーが発生します。理由は最初のオブジェクトの名前変更時にリダイレクタが作成されたからです。リダイレクタとリソースは同じ名前を持つことができません。問題を解決するには「FixupRedirects」コマンドレットを試してください。


### ダングリング リダイレクタ

リダイレクタには以下のように再現可能な既知の問題がいくつかあります。

**シナリオ 1**

* オブジェクト A を B に名前変更します。
* オブジェクト B を削除します。
* オブジェクト B が使用中のため削除できませんというエラーメッセージが表示されます。この問題は名前変更時に作成されたリダイレクタがまだ B をポイントするため発生します。


**シナリオ 2**

* オブジェクト A を B に名前変更します。
* オブジェクト B の名前を A に戻します。
* オブジェクト A を削除します。
* 最初の名前変更時に作成されたリダイレクタは破壊されますが、新たなリダイレクタが B に作成されます。結果としてオブジェクト A は参照されているため削除することができません。


リダイレクタを削除する前に「FixupRedirects」コマンドレットを実行するとこの問題が解決されます。

 





