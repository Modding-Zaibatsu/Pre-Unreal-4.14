INTSourceChangelist:2709429
Availability:Public
Title:字体
Crumbs:%ROOT%, Engine, Engine/UMG, Engine/UMG/UserGuide
Description:导入字体的详细操作流程、如何使用字体编辑器以及如何在 UMG 中使用字体。 
Related:Engine/UMG
Related:Engine/UMG/UserGuide/WidgetBlueprints
Related:Engine/UMG/UserGuide/WidgetTypeReference
version:4.9

[TOC(start:2 end:2)]

该页面介绍如何导入您自己的字体、使用 **字体编辑器** 以及 **虚幻动态图形 (UMG) UI 设计器** 中的字体。 

## 字体资产

虚幻引擎 4 中的字体被列为 **字体** 资产，使用两种缓存方式：复合字体形式的 **运行时** 和早期的预计算 Font Atlas 方式 **离线**。可以在字体编辑器中打开字体资产来切换这两种方式（这样可以简单地将现有的字体资产从早期的方式转换成新的复合方式，而不需要替换它们）。 

## 创建和导入字体

此部分介绍如何创建新字体资产，或者导入 TTF 或 OTF 文件来生成字体资产。 

### 创建字体资产

要创建字体资产，请执行以下的步骤： 

1.	在 **内容浏览器** 中点击 **添加新内容** 按钮，然后在 **用户界面** 下选择 **字体** 选项。 

	![](NewFont.png)

1.	这将创建一个新的复合字体资产，并会提示您输入名称。 

	![](NameFont.png)

1.	输入名称后，会在资产上看到一个星号，表示该资产尚未保存。单击 **保存全部** 按钮保存资产，然后在出现的弹出菜单中确认保存。

	![](SaveFont.png)
	 

[REGION:tip]
除了单击 **添加新内容** 按钮，您也可以 **右键单击** **内容浏览器** 中的空白处来访问上下文菜单。在上下文菜单中可以单击 **用户界面** 和 **字体** 选项来创建字体资产。不要忘了保存资产！
[/REGION]

在编辑器中创建新字体资产时，将会创建一个空白复合字体资产，之后可以使用字体编辑器定义其参数。导入 TTF 或 OTF 文件时，会使用您所提供的字体示例生成一个新的复合字体资产（此时可以使用字体编辑器将其打开并定义额外的参数）。 

### 导入字体

可以使用多种方法向编辑器中导入 TTF 或 OTF 文件。 

第一种方法是单击 **内容浏览器** 中的 **导入** 按钮。 

![](Import1.png)

在出现的对话框中，导航至要导入的文件并单击它，再单击 **打开**。 

![](Import2.png)

这会使用您所选择的文件，将该文件作为复合字体资产添加到内容浏览器中。 

![](Import3.png)

也可以将 TTF 或 OTF 文件 **拖放** 到 **内容浏览器** 中以创建复合字体资产。 

![](Import4.png)

使用拖放方式时，也会使用您所选择的文件自动创建一个复合字体资产。 

## 字体编辑器

在 **内容浏览器** 中 **双击** 字体资产时，会在 **字体编辑器** 窗口中打开该字体资产。 

![](FontEditorWindow.png)(w:820)

字体编辑器窗口的细分结构如下： 

1.	**工具栏菜单** - 可以在该菜单中保存所做出的更改，查找 **内容浏览器** 中的资产，更改预览窗口的背景颜色 (4) 或更改预览窗口的前景颜色（文本颜色）。有用于更新或导出所做更改的选项，但这些选项仅可以在 **离线** 缓存模式下使用。 
1.	**默认字体系列** - 可以在该窗口中指定该字体资产所使用的默认字体系列。可以添加特定字体样式的版本（例如正常、粗体、斜体、下划线等）或者在一个复合字体内包含一系列不同的字体样式。如果创建了空白的字体资产，则也可以在该窗口中指定一个字体。添加字体后，也可以定义该字体使用的提示算法。 
1.	**子字体系列** - 可以在该窗口中指定该字体资产所使用的子字体系列。可以在此指定字符范围，如果输入的字符在该范围内，则可以指定使用默认字体以外的其他字体样式（当您想针对不同语言使用不同字体类型时就可以这样做）。 
1.	**预览** - 该窗口中可以预览字体，并且提供用于输入示例文本的文本输入框。 
1.	**细节** - 可以在该窗口中更改字体缓存类型、字体大小和字体名称（针对运行时）。 
	* 如果您使用的是早期的方法，则仍可以在离线缓存模式下更改字体的参数。 
	* 您也可以将现有的字体资产从 **离线** 转换成 **运行时**，而无需替换字体。 

下面给出了一个字体资产示例。 

[REGION:lightbox]
[![](ExampleFontLayout.png)(w:820)](ExampleFontLayout.png)
[/REGION]

_点击查看全图。_

复合字体始终包含一个默认字体系列，也可能包含任意数量的子字体系列，它们应用于给定范围的字符。每个字体系列本身由任意数量的字体组成，可以根据这些字体的样式对它们进行命名。在运行时，会在字体系列内可用于该字符范围的字体中，确定出对每个字符最合适的字体，并加以使用。 

如上图示例所示，日语文本属于日语字体系列的字符范围中，因此日文部分使用“Source Han Sans”绘制，而不是默认字体系列“Roboto”。子字体系列中的字体最好根据名称匹配选择，如对于正常、黑体和细体，但也可以随机应变地基于默认字体的属性进行匹配，如对于粗斜体（这将会自动选择粗体日语字体，因为该字体包含了粗体属性，是最佳匹配）。 


## UMG 中的字体

创建 [Widget Blueprint](Engine/UMG/UserGuide/WidgetBlueprints) 并放置了包含文本（如文本框或文本控件）的控件之后，在单击该控件并访问 **细节** 面板时，可以在 **外观** 下面看到 **字体** 选项。 

![](UMGFonts1.png)

默认情况下，引擎使用 **Roboto**，但可以单击下拉菜单并选择和使用任何已创建的复合字体资产来替换。 

![](UMGFonts2.png)

也可以从该菜单中创建一个复合字体，并指定新资产保存的位置（默认为空白，必须填写）。 

选择复合字体后，可以在第二个下拉菜单从 **默认字体系列** 中选择要使用的字体。 

![](UMGFonts3.png)

也可以在输入框中指定字体的大小。 

![](UMGFonts4.png)

目前，UMG 仅支持 **运行时** 缓存的字体资产。另外，如果您指定了使用早期方式的字体，那么基于现有文件的字体设置并不会丢失，但是为了继续进行，您需要创建一个复合字体资产以便在 UMG 中使用自定义字体。 







