INTSourceChangelist:2709507
Availability:Public
Title:スタイリング
Crumbs:%ROOT%, Engine, Engine/UMG, Engine/UMG/UserGuide
Description:UMG でWidget ブループリントを定型化するためのガイド 
Related: Engine\UMG\UserGuide\Slots
Related: Engine\UMG\UserGuide\WidgetTypeReference


[REGION:fullwidth raw]
![](StyleHeader.png)(convert:false)
[/REGION]

[TOC(start:2 end:2)]

UMG で UI 画面を作成する場合、エレメントのレイアウト調整はほんの始まりにすぎません。ボタン、バー、テキストボックスなどのそれぞれにいくつかの Style オプションがあり、[詳細] パネルから **UMG** 内に直接割り当てることができます。これでどのように表示されるかが変わります。 

以下の各ウィジェットでは、**Style** オプションを利用していますが、個々の **Style** オプションは異なる場合があります。 

* ボタン
* チェックボックス
* 編集可能テキストボックス
* 複数行の編集可能テキストボックス
* 進捗バー
* サイズボックス
* スライダー
* スピンボックス
* テキスト ブロック
* コンボボックス (文字列)
* 編集可能テキスト
* 複数行の編集可能テキスト


## ステート

特にインタラクティブなウィジェットの場合、どのようにインタラクションするか、またはウィジェットが存在する状態に応じてウィジェットの外観を変えたい場合があるかもしれません。例えば、普通に画面に表示されるボタンがあり、この上にマウスをかざすと色が変わったり、明滅したりして、次にクリックすると全く異なることを行うとします。**ステート** は、スタイリングの最も一般的な形式であり、現在の状態に基づきウィジェットの外観を指定することができます。 

![](Style1.png)

上の画像では、ボタン ウィジェットが Normal (標準)、Pressed (押下)、Hovered (マウスをかざす)、または Disabled (無効) のステートに応じて変化します。ほとんどのウィジェットでは、Normal、Pressed、Hovered、または Disabled のステートを使用します。しかし、使用しているウィジェットのタイプに応じてさらにオプションがあります。 

### 画像のステートを設定する

各ステートに対してウィジェットが使用する **画像** を設定することができます (**テクスチャ** または **マテリアル** アセットのいずれか)。**Image Size (画像サイズ)** とは、スレート単位でのリソースのサイズです。**Draw As** オプションは、9 つのスケール ボックスを使用し、**Box**、**Border**、または **Image** の形式でどのように画像を描画するかを指定することができます。 

以下に各例を示します。 

[REGION:imagetable]
|![](BoxExample.png)(w:300)|![](BorderExample.png)(w:300)|![](BoxAndImage.png)(w:300)|
|---|---|---|
|Box|Border|Image|
[/REGION]

* **Box** は 3x3 のボックスを描画します。この場合、マージン (青い破線) に基づいて辺と中央がStretch (伸縮) (オレンジの矢印) します。 
	*	緑の矢印は マージン x 画像サイズに基づく定数値を表します。 
* **Border** は 3x3 のボーダーを描画します。この場合、マージン (青い破線) に基づいて辺はTile (タイル処理) (オレンジの矢印) されます。 
	*	ボーダーを使用する場合、中央は描画されません。 
	*	緑の矢印は マージン x 画像サイズに基づく定数値を表します。 
* **Image** は画像を描画し、伸縮 (オレンジの矢印) し、Margin は無視されます。

#### テクスチャ ベースの画像
Image アセットとしてテクスチャを割り当てることができます。ただし、すべてのデバイスでテクスチャを表示、さらに鮮明かつ圧縮のアーティファクトなしに表示されるようにするために設定するフラグがいくつかあります。テクスチャ エディタ内の [Level Of Detail] で、**Mip Gen Settings** を **NoMipmaps** に設定し、**LOD Group** を **UI** に設定します。**Compression Settings** を **TC Editor Icon** に設定します。  

[REGION:lightbox]
	[![](TextureSetup.png)(w:480)](TextureSetup.png)
[/REGION]

_クリックしてフルサイズで表示_

#### マテリアル ベースの画像
マテリアルは Image States の Image アセットとして割り当てることもできますが、いくつかの設定を変更する必要があります。マテリアル内の **[詳細]** パネルの **Usage** で **[Used with UI]** チェックボックスにチェックを入れる必要があります。これで、特にスレート用に異なるシェーダをコンパイルできるようになります。**Emissive Color** (エミッシブ (発光色)) のみを出力する必要もあります。

[REGION:lightbox]
	[![](UsedWithUI.png)(w:760)](UsedWithUI.png)
[/REGION]

_クリックしてフルサイズで表示_

#### 動的マテリアル
マテリアル パラメータを修正するには、**動的マテリアル インスタンス** が必要です。Image ウィジェットでは、マテリアルでスレート ブラシを持つ場合に限り、特に動的マテリアル インスタンスを簡単に使うことが可能であり、動的画像をリクエストできます (一度だけ作成し、それをキャッシュします)。

![](UMG_Auto_Dynamic_Material_Image.png)(w:760)

### Tint / Margin

各ステートには画像の色調を弱める **[Tint]** オプションがあり、ステートに関連して与えられる画像に淡彩色を適用することができます。**Box** と **Border** の描画モードのマージン サイズを入力できる **Margin** オプションもあります (Image モードではマージンは無視されます)。  

## パディング

**パディング** のスタイリング オプションとは、ウィジェット側面周囲に作られる境界のことを指します。 

![](Padding.png)

例えば、上の画像のボックス ボタンでは、**Normal Padding** はボタンの背景画像のボーダーのことです。これを適用すると、ボタンのコンテンツがボタンのボーダーと共に点滅して表示されます。**Pressed Padding** は、**Normal Padding** と同じですが、ボタン押下時に適用されるパディングを指します。 

使用するウィジェットのタイプに応じて様々な **Padding** オプションを利用できます。

## サウンド

ウィジェットのステートに応じて **サウンド** を設定できます。 

![](Sounds.png)

サウンドを適用可能なほとんどのウィジェットでは、Hovered Event または Pressed Sound Event を利用します。こうしたイベントは、それぞれウィジェット上にマウスをかざす、またはウィジェット上でクリックすると指定のサウンドを再生します。上の画像のチェックボックス ウィジェットでは、**Checked**、**Unchecked** および **Hovered** に対して sound event を設定するためのオプションがあります。 

使用するウィジェットの種類に応じて様々な **サウンド** オプションを利用できます。


## モデルのトランスフォーム

![](RenderTransformMenu.png)

ウィジェットの **[詳細]** パネルの **[Render Transform]** セクションに、ウィジェットの外観を修正するためのスタイリング オプションがさらにあります。[Render Transform] の設定で、ウィジェットの **Translate (平行移動)**、**Scale (スケーリング)**、**Shear (シアー)**、または **Angle (角度)**および **Pivot (回転軸)** の調整をすることができます。 

**[Render Transform]** 設定のサンプルを以下に図示します。

![](RenderTransforms.png)(w:520)

各 [Render Transform] 設定は、キーフレーム化することができます。これにより、アニメーションと合わせて修正したり、ブループリントで修正することもできます。その結果、ユーザーが行うゲームプレイ アクションの間、またはそれに基づき修正を加えることができます。モデルのトランスフォームはレイアウトのトランスフォームに対して相対的であり、その親によってクリップされません (例えば、ボタンがたくさんあるスクロール ボックスがあるとします。[Render Transform] 設定で Translation を調整すると、ボックスの外側にボタンが出る可能性があります)。 












