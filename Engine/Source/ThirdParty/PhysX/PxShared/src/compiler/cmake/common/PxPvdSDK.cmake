#
# Build PxPvdSDK common
#

ADD_LIBRARY(PxPvdSDK ${PXPVDSDK_LIBTYPE} 
	${LL_SOURCE_DIR}/src/PxProfileEventImpl.cpp
	${LL_SOURCE_DIR}/src/PxPvd.cpp
	${LL_SOURCE_DIR}/src/PxPvdDataStream.cpp
	${LL_SOURCE_DIR}/src/PxPvdDefaultFileTransport.cpp
	${LL_SOURCE_DIR}/src/PxPvdDefaultSocketTransport.cpp
	${LL_SOURCE_DIR}/src/PxPvdImpl.cpp
	${LL_SOURCE_DIR}/src/PxPvdMemClient.cpp
	${LL_SOURCE_DIR}/src/PxPvdObjectModelMetaData.cpp
	${LL_SOURCE_DIR}/src/PxPvdObjectRegistrar.cpp
	${LL_SOURCE_DIR}/src/PxPvdProfileZoneClient.cpp
	${LL_SOURCE_DIR}/src/PxPvdUserRenderer.cpp
	
	${PXPVDSDK_PLATFORM_FILES}
)

TARGET_INCLUDE_DIRECTORIES(PxPvdSDK 
	PRIVATE ${PXSHARED_SOURCE_DIR}/../include
	PRIVATE ${PXSHARED_SOURCE_DIR}/foundation/include
	PRIVATE ${PXSHARED_SOURCE_DIR}/pvd/include
	PRIVATE ${PXSHARED_SOURCE_DIR}/filebuf/include

	PRIVATE ${PXPVDSDK_PLATFORM_INCLUDES}
	
)

TARGET_COMPILE_DEFINITIONS(PxPvdSDK 
	PRIVATE ${PXPVDSDK_COMPILE_DEFS}
)

SET_TARGET_PROPERTIES(PxPvdSDK PROPERTIES 
	COMPILE_PDB_NAME_DEBUG "PxPvdSDK${CMAKE_DEBUG_POSTFIX}"
	COMPILE_PDB_NAME_CHECKED "PxPvdSDK${CMAKE_CHECKED_POSTFIX}"
	COMPILE_PDB_NAME_PROFILE "PxPvdSDK${CMAKE_PROFILE_POSTFIX}"
	COMPILE_PDB_NAME_RELEASE "PxPvdSDK${CMAKE_RELEASE_POSTFIX}"
)